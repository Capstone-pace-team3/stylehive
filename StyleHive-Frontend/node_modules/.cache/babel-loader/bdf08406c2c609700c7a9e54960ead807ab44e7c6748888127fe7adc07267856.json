{"ast":null,"code":"import axios from \"axios\";\nimport { CREATE_ORDER_FAILURE, CREATE_ORDER_REQUEST, CREATE_ORDER_SUCCESS, GET_ORDER_BY_ID_FAILURE, GET_ORDER_BY_ID_REQUEST, GET_ORDER_BY_ID_SUCCESS\n//   GET_ORDER_HISTORY_FAILURE,\n//   GET_ORDER_HISTORY_REQUEST,\n//   GET_ORDER_HISTORY_SUCCESS,\n} from \"./ActionType\";\nimport { API_BASE_URL, api } from \"../../config/apiConfig\";\nexport const createOrder = reqData => async dispatch => {\n  //   console.log(\"req data \", reqData);\n  dispatch({\n    type: CREATE_ORDER_REQUEST\n  });\n  try {\n    // const config = {\n    //   headers: {\n    //     \"Content-Type\": \"application/json\",\n    //     Authorization: `Bearer ${reqData.jwt}`,\n    //   },\n    // };\n\n    const {\n      data\n    } = await api.post(`/api/orders/`, reqData.address);\n    if (data.id) {\n      reqData.navigate({\n        search: `step=3&order_id=${data.id}`\n      });\n    }\n    console.log(\"created order - \", data);\n    dispatch({\n      type: CREATE_ORDER_SUCCESS,\n      payload: data\n    });\n  } catch (error) {\n    console.log(\"catch error : \", error);\n    dispatch({\n      type: CREATE_ORDER_FAILURE,\n      payload: error.message\n      // error.response && error.response.data.message\n      //   ? error.response.data.message\n      //   : error.message,\n    });\n  }\n};\nexport const getOrderById = orderId => async dispatch => {\n  //   console.log(\"get order req \", orderId);\n  dispatch({\n    type: GET_ORDER_BY_ID_REQUEST\n  });\n  try {\n    const {\n      data\n    } = await api.get(`/api/orders/${orderId}`);\n    console.log(\"order by id \", data);\n    dispatch({\n      type: GET_ORDER_BY_ID_SUCCESS,\n      payload: data\n    });\n  } catch (error) {\n    console.log(\"catch \", error);\n    dispatch({\n      type: GET_ORDER_BY_ID_FAILURE,\n      payload: error.message\n      // error.response && error.response.data.message\n      //   ? error.response.data.message\n      //   : error.message,\n    });\n  }\n};\n\n// export const getOrderHistory = (reqData) => async (dispatch, getState) => {\n//   try {\n//     dispatch({ type: GET_ORDER_HISTORY_REQUEST });\n\n//     const config = {\n//       headers: {\n//         Authorization: `Bearer ${reqData.jwt}`,\n//       },\n//     };\n\n//     const { data } = await api.get(`/api/orders/user`);\n//     console.log(\"order history -------- \", data);\n//     dispatch({\n//       type: GET_ORDER_HISTORY_SUCCESS,\n//       payload: data,\n//     });\n//   } catch (error) {\n//     dispatch({\n//       type: GET_ORDER_HISTORY_FAILURE,\n//       payload:\n//         error.response && error.response.data.message\n//           ? error.response.data.message\n//           : error.message,\n//     });\n//   }\n// };","map":{"version":3,"names":["axios","CREATE_ORDER_FAILURE","CREATE_ORDER_REQUEST","CREATE_ORDER_SUCCESS","GET_ORDER_BY_ID_FAILURE","GET_ORDER_BY_ID_REQUEST","GET_ORDER_BY_ID_SUCCESS","API_BASE_URL","api","createOrder","reqData","dispatch","type","data","post","address","id","navigate","search","console","log","payload","error","message","getOrderById","orderId","get"],"sources":["/Users/ananthulasaivyshnav/Desktop/stylehive/src/State/Order/Action.js"],"sourcesContent":["import axios from \"axios\";\nimport {\n  CREATE_ORDER_FAILURE,\n  CREATE_ORDER_REQUEST,\n  CREATE_ORDER_SUCCESS,\n  GET_ORDER_BY_ID_FAILURE,\n  GET_ORDER_BY_ID_REQUEST,\n  GET_ORDER_BY_ID_SUCCESS,\n//   GET_ORDER_HISTORY_FAILURE,\n//   GET_ORDER_HISTORY_REQUEST,\n//   GET_ORDER_HISTORY_SUCCESS,\n} from \"./ActionType\";\nimport { API_BASE_URL, api } from \"../../config/apiConfig\";\n\n\nexport const createOrder = (reqData) => async (dispatch) => {\n//   console.log(\"req data \", reqData);\n  dispatch({ type: CREATE_ORDER_REQUEST });\n  try {\n\n    // const config = {\n    //   headers: {\n    //     \"Content-Type\": \"application/json\",\n    //     Authorization: `Bearer ${reqData.jwt}`,\n    //   },\n    // };\n\n    const { data } = await api.post(\n      `/api/orders/`,\n      reqData.address,\n    );\n    \n    if (data.id) {\n      reqData.navigate({ search: `step=3&order_id=${data.id}` });\n    }\n    console.log(\"created order - \", data);\n    dispatch({\n      type: CREATE_ORDER_SUCCESS,\n      payload: data,\n    });\n  } catch (error) {\n    console.log(\"catch error : \", error);\n    dispatch({\n      type: CREATE_ORDER_FAILURE,\n      payload:error.message\n        // error.response && error.response.data.message\n        //   ? error.response.data.message\n        //   : error.message,\n    });\n  }\n};\n\nexport const getOrderById = (orderId) => async (dispatch) => {\n//   console.log(\"get order req \", orderId);\ndispatch({ type: GET_ORDER_BY_ID_REQUEST });\n  try {\n\n    const { data } = await api.get(\n      `/api/orders/${orderId}`,\n      \n    );\n    console.log(\"order by id \", data);\n    dispatch({\n      type: GET_ORDER_BY_ID_SUCCESS,\n      payload: data,\n    });\n  } catch (error) {\n    console.log(\"catch \",error)\n    dispatch({\n      type: GET_ORDER_BY_ID_FAILURE,\n      payload:error.message\n        // error.response && error.response.data.message\n        //   ? error.response.data.message\n        //   : error.message,\n    });\n  }\n};\n\n// export const getOrderHistory = (reqData) => async (dispatch, getState) => {\n//   try {\n//     dispatch({ type: GET_ORDER_HISTORY_REQUEST });\n\n//     const config = {\n//       headers: {\n//         Authorization: `Bearer ${reqData.jwt}`,\n//       },\n//     };\n\n//     const { data } = await api.get(`/api/orders/user`);\n//     console.log(\"order history -------- \", data);\n//     dispatch({\n//       type: GET_ORDER_HISTORY_SUCCESS,\n//       payload: data,\n//     });\n//   } catch (error) {\n//     dispatch({\n//       type: GET_ORDER_HISTORY_FAILURE,\n//       payload:\n//         error.response && error.response.data.message\n//           ? error.response.data.message\n//           : error.message,\n//     });\n//   }\n// };\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SACEC,oBAAoB,EACpBC,oBAAoB,EACpBC,oBAAoB,EACpBC,uBAAuB,EACvBC,uBAAuB,EACvBC;AACF;AACA;AACA;AAAA,OACO,cAAc;AACrB,SAASC,YAAY,EAAEC,GAAG,QAAQ,wBAAwB;AAG1D,OAAO,MAAMC,WAAW,GAAIC,OAAO,IAAK,MAAOC,QAAQ,IAAK;EAC5D;EACEA,QAAQ,CAAC;IAAEC,IAAI,EAAEV;EAAqB,CAAC,CAAC;EACxC,IAAI;IAEF;IACA;IACA;IACA;IACA;IACA;;IAEA,MAAM;MAAEW;IAAK,CAAC,GAAG,MAAML,GAAG,CAACM,IAAI,CAC7B,cAAc,EACdJ,OAAO,CAACK,OACV,CAAC;IAED,IAAIF,IAAI,CAACG,EAAE,EAAE;MACXN,OAAO,CAACO,QAAQ,CAAC;QAAEC,MAAM,EAAE,mBAAmBL,IAAI,CAACG,EAAE;MAAG,CAAC,CAAC;IAC5D;IACAG,OAAO,CAACC,GAAG,CAAC,kBAAkB,EAAEP,IAAI,CAAC;IACrCF,QAAQ,CAAC;MACPC,IAAI,EAAET,oBAAoB;MAC1BkB,OAAO,EAAER;IACX,CAAC,CAAC;EACJ,CAAC,CAAC,OAAOS,KAAK,EAAE;IACdH,OAAO,CAACC,GAAG,CAAC,gBAAgB,EAAEE,KAAK,CAAC;IACpCX,QAAQ,CAAC;MACPC,IAAI,EAAEX,oBAAoB;MAC1BoB,OAAO,EAACC,KAAK,CAACC;MACZ;MACA;MACA;IACJ,CAAC,CAAC;EACJ;AACF,CAAC;AAED,OAAO,MAAMC,YAAY,GAAIC,OAAO,IAAK,MAAOd,QAAQ,IAAK;EAC7D;EACAA,QAAQ,CAAC;IAAEC,IAAI,EAAEP;EAAwB,CAAC,CAAC;EACzC,IAAI;IAEF,MAAM;MAAEQ;IAAK,CAAC,GAAG,MAAML,GAAG,CAACkB,GAAG,CAC5B,eAAeD,OAAO,EAExB,CAAC;IACDN,OAAO,CAACC,GAAG,CAAC,cAAc,EAAEP,IAAI,CAAC;IACjCF,QAAQ,CAAC;MACPC,IAAI,EAAEN,uBAAuB;MAC7Be,OAAO,EAAER;IACX,CAAC,CAAC;EACJ,CAAC,CAAC,OAAOS,KAAK,EAAE;IACdH,OAAO,CAACC,GAAG,CAAC,QAAQ,EAACE,KAAK,CAAC;IAC3BX,QAAQ,CAAC;MACPC,IAAI,EAAER,uBAAuB;MAC7BiB,OAAO,EAACC,KAAK,CAACC;MACZ;MACA;MACA;IACJ,CAAC,CAAC;EACJ;AACF,CAAC;;AAED;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}