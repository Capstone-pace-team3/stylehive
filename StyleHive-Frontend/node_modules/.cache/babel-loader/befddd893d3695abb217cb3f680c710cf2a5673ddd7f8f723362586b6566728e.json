{"ast":null,"code":"// import { API_BASE_URL } from '../../../config/api';\nimport { api } from '../../config/apiConfig';\nimport { CREATE_PAYMENT_REQUEST,\n// CREATE_PAYMENT_SUCCESS,\nCREATE_PAYMENT_FAILURE, UPDATE_PAYMENT_REQUEST, UPDATE_PAYMENT_FAILURE\n// UPDATE_PAYMENT_SUCCESS,\n// UPDATE_PAYMENT_FAILURE,\n} from './ActionType';\n\n//   import axios from 'axios';\n\nexport const createPayment = orderId => async dispatch => {\n  // console.log(\"create payment reqData \",reqData)\n  dispatch({\n    type: CREATE_PAYMENT_REQUEST\n  });\n  try {\n    //   const config = {\n    //     headers: {\n    //       'Content-Type': 'application/json',\n    //       Authorization: `Bearer ${reqData.jwt}`,\n    //     },\n    //   };\n\n    const {\n      data\n    } = await api.post(`/api/payments/${orderId}`, {});\n    //   console.log(\"datta\",data)\n    if (data.payment_link_url) {\n      window.location.href = data.payment_link_url;\n    }\n    //   dispatch({\n    //     type: CREATE_PAYMENT_SUCCESS,\n    //     payload: data,\n    //   });\n  } catch (error) {\n    dispatch({\n      type: CREATE_PAYMENT_FAILURE,\n      payload: error.message\n      //   ? error.response.data.message\n      //   : error.message,\n    });\n  }\n};\nexport const updatePayment = reqData => async dispatch => {\n  //   console.log(\"update payment reqData \",reqData)\n  dispatch({\n    type: UPDATE_PAYMENT_REQUEST\n  });\n  try {\n    // const config = {\n    //   headers: {\n    //     'Content-Type': 'application/json',\n    //     Authorization: `Bearer ${reqData.jwt}`,\n    //   },\n    // };\n    const {\n      data\n    } = await api.get(`/api/payments?payment_id=${reqData.paymentId}&order_id=${reqData.orderId}`);\n    // console.log(\"updated data ---- \",response.data)\n    // dispatch(updatePaymentSuccess(response.data));\n  } catch (error) {\n    dispatch({\n      type: CREATE_PAYMENT_FAILURE,\n      payload: error.message\n    });\n    // console.log(\"catch error \",error)\n  }\n  //};\n};\n\n// export const updatePaymentRequest = () => {\n//   return {\n//     type: UPDATE_PAYMENT_REQUEST,\n//   };\n// };\n\n// export const updatePaymentSuccess = (payment) => {\n//   return {\n//     type: UPDATE_PAYMENT_SUCCESS,\n//     payload: payment,\n//   };\n// };\n\n// export const updatePaymentFailure = (error) => {\n//   return {\n//     type: UPDATE_PAYMENT_FAILURE,\n//     payload: error,\n//   };\n// };","map":{"version":3,"names":["api","CREATE_PAYMENT_REQUEST","CREATE_PAYMENT_FAILURE","UPDATE_PAYMENT_REQUEST","UPDATE_PAYMENT_FAILURE","createPayment","orderId","dispatch","type","data","post","payment_link_url","window","location","href","error","payload","message","updatePayment","reqData","get","paymentId"],"sources":["/Users/ananthulasaivyshnav/Desktop/stylehive/src/State/Payment/Action.js"],"sourcesContent":["// import { API_BASE_URL } from '../../../config/api';\nimport {api} from '../../config/apiConfig'\nimport {\n    CREATE_PAYMENT_REQUEST,\n    // CREATE_PAYMENT_SUCCESS,\n    CREATE_PAYMENT_FAILURE,\n    UPDATE_PAYMENT_REQUEST,\n    UPDATE_PAYMENT_FAILURE,\n    // UPDATE_PAYMENT_SUCCESS,\n    // UPDATE_PAYMENT_FAILURE,\n  } from './ActionType';\n  \n//   import axios from 'axios';\n  \n  export const createPayment = (orderId) => async (dispatch) => {\n    // console.log(\"create payment reqData \",reqData)\n    dispatch({\n        type: CREATE_PAYMENT_REQUEST,\n      });\n    try {\n\n    //   const config = {\n    //     headers: {\n    //       'Content-Type': 'application/json',\n    //       Authorization: `Bearer ${reqData.jwt}`,\n    //     },\n    //   };\n  \n      const { data } = await api.post(`/api/payments/${orderId}`,{});\n//   console.log(\"datta\",data)\n  if(data.payment_link_url){\n    window.location.href=data.payment_link_url;\n  }\n    //   dispatch({\n    //     type: CREATE_PAYMENT_SUCCESS,\n    //     payload: data,\n    //   });\n    } catch (error) {\n      dispatch({\n        type: CREATE_PAYMENT_FAILURE,\n        payload: error.message\n        //   ? error.response.data.message\n        //   : error.message,\n      });\n    }\n  };\n  \n\n\n\n  export const updatePayment = (reqData) => async (dispatch) => {\n    //   console.log(\"update payment reqData \",reqData)\n      dispatch({type: UPDATE_PAYMENT_REQUEST});\n      try {\n        // const config = {\n        //   headers: {\n        //     'Content-Type': 'application/json',\n        //     Authorization: `Bearer ${reqData.jwt}`,\n        //   },\n        // };\n        const {data} = await api.get(`/api/payments?payment_id=${reqData.paymentId}&order_id=${reqData.orderId}`);\n        // console.log(\"updated data ---- \",response.data)\n        // dispatch(updatePaymentSuccess(response.data));\n      } catch (error) {\n        dispatch({type: CREATE_PAYMENT_FAILURE, payload: error.message});\n        // console.log(\"catch error \",error)\n      }\n    //};\n  };\n\n// export const updatePaymentRequest = () => {\n//   return {\n//     type: UPDATE_PAYMENT_REQUEST,\n//   };\n// };\n\n// export const updatePaymentSuccess = (payment) => {\n//   return {\n//     type: UPDATE_PAYMENT_SUCCESS,\n//     payload: payment,\n//   };\n// };\n\n// export const updatePaymentFailure = (error) => {\n//   return {\n//     type: UPDATE_PAYMENT_FAILURE,\n//     payload: error,\n//   };\n// };\n\n \n  "],"mappings":"AAAA;AACA,SAAQA,GAAG,QAAO,wBAAwB;AAC1C,SACIC,sBAAsB;AACtB;AACAC,sBAAsB,EACtBC,sBAAsB,EACtBC;AACA;AACA;AAAA,OACK,cAAc;;AAEvB;;AAEE,OAAO,MAAMC,aAAa,GAAIC,OAAO,IAAK,MAAOC,QAAQ,IAAK;EAC5D;EACAA,QAAQ,CAAC;IACLC,IAAI,EAAEP;EACR,CAAC,CAAC;EACJ,IAAI;IAEJ;IACA;IACA;IACA;IACA;IACA;;IAEE,MAAM;MAAEQ;IAAK,CAAC,GAAG,MAAMT,GAAG,CAACU,IAAI,CAAC,iBAAiBJ,OAAO,EAAE,EAAC,CAAC,CAAC,CAAC;IACpE;IACE,IAAGG,IAAI,CAACE,gBAAgB,EAAC;MACvBC,MAAM,CAACC,QAAQ,CAACC,IAAI,GAACL,IAAI,CAACE,gBAAgB;IAC5C;IACE;IACA;IACA;IACA;EACA,CAAC,CAAC,OAAOI,KAAK,EAAE;IACdR,QAAQ,CAAC;MACPC,IAAI,EAAEN,sBAAsB;MAC5Bc,OAAO,EAAED,KAAK,CAACE;MACf;MACA;IACF,CAAC,CAAC;EACJ;AACF,CAAC;AAKD,OAAO,MAAMC,aAAa,GAAIC,OAAO,IAAK,MAAOZ,QAAQ,IAAK;EAC5D;EACEA,QAAQ,CAAC;IAACC,IAAI,EAAEL;EAAsB,CAAC,CAAC;EACxC,IAAI;IACF;IACA;IACA;IACA;IACA;IACA;IACA,MAAM;MAACM;IAAI,CAAC,GAAG,MAAMT,GAAG,CAACoB,GAAG,CAAC,4BAA4BD,OAAO,CAACE,SAAS,aAAaF,OAAO,CAACb,OAAO,EAAE,CAAC;IACzG;IACA;EACF,CAAC,CAAC,OAAOS,KAAK,EAAE;IACdR,QAAQ,CAAC;MAACC,IAAI,EAAEN,sBAAsB;MAAEc,OAAO,EAAED,KAAK,CAACE;IAAO,CAAC,CAAC;IAChE;EACF;EACF;AACF,CAAC;;AAEH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}